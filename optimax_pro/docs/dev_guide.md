# Руководство разработчика Optimax Pro

## Структура проекта

```
optimax_pro/
├── assets/              # Ресурсы приложения
│   ├── logo.png         # Логотип
│   ├── style.css        # Стили
│   └── version.py       # Информация о версии
├── docs/                # Документация
│   ├── user_guide.md    # Руководство пользователя
│   └── dev_guide.md     # Руководство разработчика
├── tweaks/              # Модули твиков
│   ├── __init__.py
│   ├── registry.py      # Твики реестра
│   ├── security.py      # Твики безопасности
│   ├── cleanup.py       # Твики очистки
│   ├── performance.py   # Твики производительности
│   └── network.py       # Твики сети
├── ui/                  # Интерфейс
│   ├── __init__.py
│   ├── main_window.py   # Главное окно
│   ├── widgets.py       # Кастомные виджеты
│   └── threads.py       # Рабочие потоки
├── main.py              # Точка входа
├── requirements.txt     # Зависимости
├── README.md            # Общая информация
├── start.bat            # Скрипт запуска
└── install_deps.bat     # Скрипт установки зависимостей
```

## Архитектура приложения

Optimax Pro построен на основе архитектуры MVC (Model-View-Controller):

- **Model**: модули в папке `tweaks/` содержат бизнес-логику для оптимизации и очистки системы
- **View**: модули в папке `ui/` отвечают за пользовательский интерфейс
- **Controller**: классы потоков в `ui/threads.py` связывают интерфейс с логикой

## Добавление новых твиков

Для добавления нового твика:

1. Выберите подходящий модуль в папке `tweaks/`
2. Добавьте функцию твика по шаблону:

```python
def tweak_XXX_descriptive_name():
    """Название твика
    Описание что делает.
    Возможные риски."""
    try:
        # Код твика
        pass
    except Exception:
        pass
```

3. Добавьте функцию в список твиков в конце файла:

```python
module_tweaks = [
    existing_tweaks,
    tweak_XXX_descriptive_name  # Добавьте новый твик
]
```

## Рекомендации по коду

- Используйте исключения для обработки ошибок
- Добавляйте докстринги ко всем функциям
- Следуйте стилю именования переменных в snake_case
- Поддерживайте обратную совместимость с предыдущими версиями Windows
- Используйте асинхронные потоки для длительных операций

## Сборка приложения

Для создания исполняемого файла:

1. Установите PyInstaller: `pip install pyinstaller`
2. Запустите сборку: `pyinstaller --onefile --windowed --icon=assets/logo.ico main.py`
3. Скопируйте папки `assets/`, `tweaks/` и `ui/` в папку `dist/`
4. Готовый исполняемый файл находится в папке `dist/`

## Тестирование

Для запуска тестов:

1. Установите pytest: `pip install pytest`
2. Запустите тесты: `pytest tests/`

## Публикация новой версии

1. Обновите номер версии в `assets/version.py`
2. Обновите файл `CHANGELOG.md`
3. Создайте новый релиз в репозитории
4. Соберите новую версию приложения
5. Загрузите исполняемый файл и архив с исходным кодом
